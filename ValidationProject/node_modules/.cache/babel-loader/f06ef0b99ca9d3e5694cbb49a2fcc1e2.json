{"ast":null,"code":"import monaco from '@monaco-editor/loader';\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MonacoContainer from '../MonacoContainer/index.js';\nimport useMount from '../hooks/useMount/index.js';\nimport useUpdate from '../hooks/useUpdate/index.js';\nimport { noop } from '../utils/index.js';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  editorDidMount,\n  theme,\n  width,\n  height,\n  loading,\n  options,\n  className,\n  wrapperClassName\n}) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef(null);\n  const monacoRef = useRef(null);\n  const containerRef = useRef(null);\n  const editorDidMountRef = useRef(editorDidMount);\n  useMount(() => {\n    const cancelable = monaco.init();\n    cancelable.then(monaco => (monacoRef.current = monaco) && setIsMonacoMounting(false)).catch(error => (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error));\n    return () => editorRef.current ? disposeEditor() : cancelable.cancel();\n  });\n  useUpdate(() => {\n    editorRef.current.getModel().modified.setValue(modified);\n  }, [modified], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.getModel().original.setValue(original);\n  }, [original], isEditorReady);\n  useUpdate(() => {\n    const {\n      original,\n      modified\n    } = editorRef.current.getModel();\n    monacoRef.current.editor.setModelLanguage(original, originalLanguage || language);\n    monacoRef.current.editor.setModelLanguage(modified, modifiedLanguage || language);\n  }, [language, originalLanguage, modifiedLanguage], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  const setModels = useCallback(() => {\n    const originalModel = monacoRef.current.editor.createModel(original, originalLanguage || language);\n    const modifiedModel = monacoRef.current.editor.createModel(modified, modifiedLanguage || language);\n    editorRef.current.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n  }, [language, modified, modifiedLanguage, original, originalLanguage]);\n  const createEditor = useCallback(() => {\n    editorRef.current = monacoRef.current.editor.createDiffEditor(containerRef.current, {\n      automaticLayout: true,\n      ...options\n    });\n    setModels();\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [options, theme, setModels]);\n  useEffect(() => {\n    if (isEditorReady) {\n      const {\n        original,\n        modified\n      } = editorRef.current.getModel();\n      editorDidMountRef.current(modified.getValue.bind(modified), original.getValue.bind(original), editorRef.current);\n    }\n  }, [isEditorReady]);\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  const disposeEditor = () => editorRef.current.dispose();\n\n  return /*#__PURE__*/React.createElement(MonacoContainer, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperClassName: wrapperClassName\n  });\n}\n\nDiffEditor.propTypes = {\n  original: PropTypes.string,\n  modified: PropTypes.string,\n  language: PropTypes.string,\n  originalLanguage: PropTypes.string,\n  modifiedLanguage: PropTypes.string,\n  editorDidMount: PropTypes.func,\n  theme: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  loading: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  options: PropTypes.object,\n  className: PropTypes.string,\n  wrapperClassName: PropTypes.string\n};\nDiffEditor.defaultProps = {\n  editorDidMount: noop,\n  theme: 'light',\n  width: '100%',\n  height: '100%',\n  loading: 'Loading...',\n  options: {}\n};\nexport default DiffEditor;","map":{"version":3,"sources":["C:/Users/One Life/Projects_Dac/upload-image/ValidationProject/node_modules/@monaco-editor/react/lib/es/DiffEditor/DiffEditor.js"],"names":["monaco","React","useState","useRef","useCallback","useEffect","PropTypes","MonacoContainer","useMount","useUpdate","noop","DiffEditor","original","modified","language","originalLanguage","modifiedLanguage","editorDidMount","theme","width","height","loading","options","className","wrapperClassName","isEditorReady","setIsEditorReady","isMonacoMounting","setIsMonacoMounting","editorRef","monacoRef","containerRef","editorDidMountRef","cancelable","init","then","current","catch","error","type","console","disposeEditor","cancel","getModel","setValue","editor","setModelLanguage","setTheme","updateOptions","setModels","originalModel","createModel","modifiedModel","setModel","createEditor","createDiffEditor","automaticLayout","getValue","bind","dispose","createElement","_ref","propTypes","string","func","oneOfType","number","element","object","defaultProps"],"mappings":"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","sourcesContent":["import monaco from '@monaco-editor/loader';\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport MonacoContainer from '../MonacoContainer/index.js';\nimport useMount from '../hooks/useMount/index.js';\nimport useUpdate from '../hooks/useUpdate/index.js';\nimport { noop } from '../utils/index.js';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  editorDidMount,\n  theme,\n  width,\n  height,\n  loading,\n  options,\n  className,\n  wrapperClassName\n}) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef(null);\n  const monacoRef = useRef(null);\n  const containerRef = useRef(null);\n  const editorDidMountRef = useRef(editorDidMount);\n  useMount(() => {\n    const cancelable = monaco.init();\n    cancelable.then(monaco => (monacoRef.current = monaco) && setIsMonacoMounting(false)).catch(error => (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error));\n    return () => editorRef.current ? disposeEditor() : cancelable.cancel();\n  });\n  useUpdate(() => {\n    editorRef.current.getModel().modified.setValue(modified);\n  }, [modified], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.getModel().original.setValue(original);\n  }, [original], isEditorReady);\n  useUpdate(() => {\n    const {\n      original,\n      modified\n    } = editorRef.current.getModel();\n    monacoRef.current.editor.setModelLanguage(original, originalLanguage || language);\n    monacoRef.current.editor.setModelLanguage(modified, modifiedLanguage || language);\n  }, [language, originalLanguage, modifiedLanguage], isEditorReady);\n  useUpdate(() => {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  useUpdate(() => {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  const setModels = useCallback(() => {\n    const originalModel = monacoRef.current.editor.createModel(original, originalLanguage || language);\n    const modifiedModel = monacoRef.current.editor.createModel(modified, modifiedLanguage || language);\n    editorRef.current.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n  }, [language, modified, modifiedLanguage, original, originalLanguage]);\n  const createEditor = useCallback(() => {\n    editorRef.current = monacoRef.current.editor.createDiffEditor(containerRef.current, {\n      automaticLayout: true,\n      ...options\n    });\n    setModels();\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [options, theme, setModels]);\n  useEffect(() => {\n    if (isEditorReady) {\n      const {\n        original,\n        modified\n      } = editorRef.current.getModel();\n      editorDidMountRef.current(modified.getValue.bind(modified), original.getValue.bind(original), editorRef.current);\n    }\n  }, [isEditorReady]);\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  const disposeEditor = () => editorRef.current.dispose();\n\n  return /*#__PURE__*/React.createElement(MonacoContainer, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperClassName: wrapperClassName\n  });\n}\n\nDiffEditor.propTypes = {\n  original: PropTypes.string,\n  modified: PropTypes.string,\n  language: PropTypes.string,\n  originalLanguage: PropTypes.string,\n  modifiedLanguage: PropTypes.string,\n  editorDidMount: PropTypes.func,\n  theme: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  loading: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  options: PropTypes.object,\n  className: PropTypes.string,\n  wrapperClassName: PropTypes.string\n};\nDiffEditor.defaultProps = {\n  editorDidMount: noop,\n  theme: 'light',\n  width: '100%',\n  height: '100%',\n  loading: 'Loading...',\n  options: {}\n};\n\nexport default DiffEditor;\n"]},"metadata":{},"sourceType":"module"}